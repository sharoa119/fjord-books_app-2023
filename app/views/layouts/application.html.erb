<!DOCTYPE html>
<html>

  <head>
    <title>BooksApp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <%= stylesheet_link_tag "application", "custom", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
    <%= javascript_include_tag "application" %>
  </head>

  <body>
    <div class="user-menu">
      <% if user_signed_in? %>
        <span><%= t('devise.sessions.logged in as', name: current_user.name) %></span>
        <ul>
          <li>
            <%= link_to t("views.common.edit_profile"), edit_user_registration_path %>
          </li>
          <li>
            <%= link_to t("devise.sessions.new.sign_out"), destroy_user_session_path, data: { turbo_method: :delete } %>
          </li>
        </ul>
      <% else %>
        <span><%= t("devise.sessions.not_sign_in") %></span>
        <ul>
          <li>
            <%= link_to t("devise.sessions.new.sign_in"), new_user_session_path, class: 'post' %>
          </li>
          <li>
            <%= link_to t("devise.registrations.new.sign_up"), new_user_registration_path, class: 'post' %>
          </li>
        </ul>
      <% end %>
    </div>

    <% if notice %>
      <p><%= notice %></p>
    <% end %>
    <% if alert %>
      <p><%= alert %></p>
    <% end %>

    <%= yield %>

  </body>
</html>
